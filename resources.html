<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Community Resources</title>
<link rel="stylesheet" href="style.css">
</head>

<body>

<nav>
    <div class="logo">Johnson County Hub</div>
    <div class="menu-icon" onclick="toggleMenu()">
        â˜°
    </div>
    <div class="nav-links" id="navLinks">
        <a href="index.html">Home</a>
        <a href="resources.html">Resources</a>
        <a href="submit.html">Submit Resource</a>
        <a href="highlights.html">Highlights</a>
    </div>
</nav>

<section>
    <h2>Community Resource Directory</h2>

    <input type="text" id="searchInput" placeholder="Search..." onkeyup="filterResources()">

    <select id="categoryFilter" onchange="filterResources()">
        <option value="all">All Categories</option>
        <option value="food">Food</option>
        <option value="education">Education</option>
    </select>

    <div class="resource-card" 
     data-category="food"
     data-title="Filler"
     data-description="this needs to be replaced"
     data-image="images/fillerpic.jpg">

    <h3>Filler</h3>
    <p>This also needs to be replaced</p>
    </div>
    
    <div class="resource-card" 
     data-category="education"
     data-title="Filter but no pic"
     data-description="idk if this works"
     data-image="">

    <h3>Filler w/o the pic</h3>
    <p>im sleepy</p>
    </div>

</section>
<!-- Modal -->
<div id="modal" class="modal">
    <div class="modal-content">
    <span class="close">&times;</span>

    <div class="modal-body">
        <div class="modal-text">
            <h2 id="modal-title"></h2>
            <p id="modal-description"></p>
        </div>

        <div class="modal-image">
            <img id="modal-img" src="" alt="">
        </div>
    </div>
</div>
</div>

<script>
function filterResources() {
    const searchValue = document.getElementById("searchInput").value.toLowerCase();
    const categoryValue = document.getElementById("categoryFilter").value;
    const cards = document.querySelectorAll(".resource-card");

    cards.forEach(card => {
        const text = card.innerText.toLowerCase();
        const category = card.getAttribute("data-category");

        const matchesSearch = text.includes(searchValue);
        const matchesCategory = categoryValue === "all" || category === categoryValue;

        if (matchesSearch && matchesCategory) {
            card.style.display = "block";
        } else {
            card.style.display = "none";
        }
    });
}
</script>

<script>
function toggleMenu() {
    const nav = document.getElementById("navLinks");
    if (nav.style.display === "flex") {
        nav.style.display = "none";
    } else {
        nav.style.display = "flex";
    }
}
</script>


<script>
// Modal functionality
const cards = document.querySelectorAll(".resource-card");
const modal = document.getElementById("modal");
const modalTitle = document.getElementById("modal-title");
const modalDesc = document.getElementById("modal-description");
const modalImg = document.getElementById("modal-img");
const closeBtn = document.querySelector(".close");

cards.forEach(card => {
    card.addEventListener("click", () => {
        modalTitle.textContent = card.dataset.title;
        modalDesc.textContent = card.dataset.description;
        const modalImageContainer = document.querySelector(".modal-image");

if (card.dataset.image) {
    modalImg.src = card.dataset.image;
    modalImageContainer.style.display = "block";
} else {
    modalImageContainer.style.display = "none";
}

        modal.style.display = "flex";
        document.body.classList.add("modal-open"); // stops background scroll
    });
});

closeBtn.addEventListener("click", () => {
    modal.style.display = "none";
    document.body.classList.remove("modal-open");
});

window.addEventListener("click", (e) => {
    if (e.target === modal) {
        modal.style.display = "none";
        document.body.classList.remove("modal-open");
    }
});
</script>


</body>
</html>
